<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.szmsd.inventory.mapper.InventoryCheckMapper">

    <select id="findList" resultType="com.szmsd.inventory.domain.InventoryCheck" parameterType="com.szmsd.inventory.domain.dto.InventoryCheckQueryDTO">
        select * from inventory_check
        <where>
            status = 'Pending'
            <if test="customCode != null">
                AND custom_code = #{customCode}
            </if>
            <if test="warehouseCode != null">
                AND warehouse_code = #{warehouseCode}
            </if>
            <if test="orderNoList != null and orderNoList.size() > 0">
                AND order_no IN
                <foreach collection="orderNoList" item="orderNo" open="(" separator="," close=")">
                    #{orderNo}
                </foreach>
            </if>
            <if test="createTimeStart != null and createTimeEnd != null">
                AND create_time >= #{createTimeStart} and create_time &lt;= #{createTimeEnd}
            </if>
        </where>
    </select>

</mapper>
